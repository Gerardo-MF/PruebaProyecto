<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             xmlns:local="clr-namespace:Prueba;assembly=Prueba"
             x:Name="viewMain"
             x:Class="Prueba.MainPage"  NavigationPage.HasNavigationBar="False">

        <StackLayout>
        <!--<CollectionView >
            <CollectionView.ItemsLayout>
                <GridItemsLayout VerticalItemSpacing="5" HorizontalItemSpacing="5" Orientation="Vertical" Span="3"></GridItemsLayout>
            </CollectionView.ItemsLayout>

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <StackLayout>-->

        <Grid Padding="10" BackgroundColor="#0D66D0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="30" ></ColumnDefinition>
                <ColumnDefinition Width="70" ></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
              
                
            </Grid.ColumnDefinitions>
            <Frame HorizontalOptions="Start"  Padding="0" CornerRadius="30" >
                <Image Source="user1.png" x:Name="xyz" HeightRequest="30" WidthRequest="30" ></Image>
            </Frame>
           

            <Label Grid.Column="1"   FontFamily="Arial" FontSize="20" TextColor="White">Grupo x</Label>

            <SearchBar  HeightRequest="12" WidthRequest="100" Grid.Column="2"  TextColor="White"></SearchBar>
           
        </Grid>


        <Grid BackgroundColor="#0D66D0" Margin="0,-6,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Button x:Name="chatsboton" Clicked="chatsboton_Clicked" Text="CHATS" BackgroundColor="#0D66D0" FontFamily="Arial" FontAttributes="Bold" TextColor="White">

            </Button>
            <Button Text="CONTACTOS" Font="Arial" BackgroundColor="#0D66D0" FontAttributes="Bold" Grid.Column="1" TextColor="White"></Button>
            <Button Text="AVISOS" Clicked="Button_Clicked" FontAttributes="Bold" FontFamily="Arial" BackgroundColor="#0D66D0" TextColor="White" Grid.Column="2"></Button>
        </Grid>


        <StackLayout IsVisible="True">
            <CollectionView ItemsSource="{Binding ListaAlumnos}">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout VerticalItemSpacing="3" Orientation="Vertical" Span="3" HorizontalItemSpacing="3"></GridItemsLayout>
                </CollectionView.ItemsLayout>

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <StackLayout>
                            <StackLayout.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding Source={Reference viewMain},Path=BindingContext.VerChatCommand}" CommandParameter="{Binding .}"></TapGestureRecognizer>
                            </StackLayout.GestureRecognizers>
                            <Frame  HorizontalOptions="CenterAndExpand"  CornerRadius="70" Padding="0" IsClippedToBounds="True">
                                <Image Source="user1.png" HeightRequest="80"  WidthRequest="80" ></Image>
                            </Frame>
                            <Label HorizontalTextAlignment="Center" TextColor="Black" FontSize="14" FontAttributes="Bold"  Text="{Binding Nombre}" x:Name="Nombre Alumnos" VerticalTextAlignment="Center"></Label>
                        </StackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </StackLayout>




        <CollectionView ItemsSource="{Binding ListaAlumnos}" IsVisible="False">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid Padding="5" Margin="5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60" ></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition Width="40"></ColumnDefinition>

                        </Grid.ColumnDefinitions>

                        <Frame CornerRadius="50" 
           HeightRequest="50"
           WidthRequest="50"
           HorizontalOptions="StartAndExpand"
          VerticalOptions="StartAndExpand"
           Padding="0"
           IsClippedToBounds="False">
                            <Image Source="user1.png" 
           HorizontalOptions="Start"
           VerticalOptions="Start" />
                        </Frame>


                        <StackLayout Grid.Column="1" Margin="0,3,0,0">
                            <Label Margin="0,0,0,3" FontSize="17" TextColor="Black" FontAttributes="Bold" FontFamily="Arial" Text="{Binding Nombre}"></Label>

                        </StackLayout>

                        <StackLayout Margin="0,5,0,0" Grid.Column="2" HorizontalOptions="End">
                            <Label FontSize="13"  FontFamily="Arial">20:30</Label>
                        </StackLayout>

                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
            
            
            
            
            
            
            
            
            
            
            

                  
    </StackLayout>

   
</ContentPage>
